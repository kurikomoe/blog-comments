(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{152:function(e,t,n){"use strict";var i=n(76);n.n(i).a},159:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comments"},[n("div",[n("loading",{attrs:{active:e.show_loading,"can-cancel":!1,"is-full-page":!1},on:{"update:active":function(t){e.show_loading=t}}})],1),n("div",{ref:"commentEl",attrs:{id:"vcomments"}})])};i._withStripped=!0;n(96);var o=n(95),s=n.n(o),a=n(60),l=n(61),r={name:"comments",components:{Loading:s.a},props:{post:{}},data:()=>({url:window.location.href,origin:window.location.origin,isValineLoaded:!1}),computed:{show_loading:function(){return!this.isValineLoaded}},methods:{updateContents(){window.MathJax&&window.MathJax.typesetPromise(),window.Prism&&window.Prism.highlightAllUnder(this.$refs.commentEl,!1,()=>{this.isCodeRendered=!0})}},mounted(){l.a.doCheck("Valine",()=>window.Valine,()=>{const e=this.$t("defaults.comments.placeholder"),t=e[Math.floor(Math.random()*e.length)];new window.Valine({el:"#vcomments",appId:a.a.valine.AppID,appKey:a.a.valine.AppKey,path:this.post.slug,placeholder:t,lang:window.navigator.language,visitor:!0,highlight:!1});const n=()=>null!=this.$refs.commentEl.querySelector("code"),i=()=>null!=this.$refs.commentEl.querySelector(".vcontent p"),o=()=>null!=(this.$refs.commentEl.querySelector(".vcard .vimg")||this.$refs.commentEl.querySelector(".vempty"));this.$nextTick(()=>{l.a.doCheck("MathJax",()=>i()&&window.MathJax,this.updateContents,10,1e3,!0),l.a.doCheck("Prism.js",()=>n()&&window.Prism,this.updateContents,10,1e3,!0),l.a.doCheck("Comments",()=>o()&&window.Prism,()=>{"sm"!==this.$mq&&"md"!==this.$mq||document.querySelectorAll(".vcard .vimg").forEach(e=>{let t=e.nextSibling;t.insertBefore(e,t.firstChild)}),this.isValineLoaded=!0,l.a.imgProcess(this.$refs.commentEl,!1,!0)},10,1e3,!0)})})}},c=(n(152),n(6)),d=Object(c.a)(r,i,[],!1,null,"42816f64",null);d.options.__file="src/components/widgets/comments.vue";t.default=d.exports},76:function(e,t,n){}}]);
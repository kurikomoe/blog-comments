(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{149:function(t,e,i){"use strict";var a=i(73);i.n(a).a},156:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-width full-height",attrs:{id:"post"}},[t.isRendered?i("el-container",{staticClass:"container full-width",staticStyle:{"min-height":"100%"}},[i("el-container",[i("el-header",{attrs:{height:"auto",id:"header-wrapper"}},[i("el-row",{staticClass:"header full-height",attrs:{type:"flex",align:"middle"}},[i("router-link",{staticClass:"title",attrs:{to:"/"},domProps:{innerHTML:t._s("<span> < "+t.$t("main_page.header.kuriko_no_daily")+" ></span>")}})],1)],1),i("el-main",{attrs:{id:"post-wrapper"}},[i("div",{staticClass:"post-nav"},[i("el-breadcrumb",{staticClass:"nav",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v(t._s(t.$t("nav.main_page")))]),t._l(t.post_path,(function(e,a){return i("el-breadcrumb-item",{key:a},[t._v(t._s(e))])})),0===t.post_path.length?i("el-breadcrumb-item",[t._v(t._s(t.$t("post_page.collection")))]):t._e()],2),i("el-button",{staticClass:"back-btn",attrs:{autofocus:"",round:"",size:"small",icon:"el-icon-d-arrow-left"},on:{click:function(e){return t.$router.back()}}},[t._v(t._s(t.$t("nav.back")))])],1),i("div",{staticClass:"post-header full-width"},[i("div",{staticClass:"post-title-wrapper"},[i("div",{staticClass:"post-title"},[i("div",{staticClass:"title"},[i("p",[t._v(t._s(this.post.title))]),i("div",{staticClass:"highlight"})]),Array.isArray(this.post.subtitle)?i("p",{staticClass:"post-subtitle"},[t._v(" → "),i("span",{attrs:{id:"typewriter-subtitle"}})]):this.post.subtitle?i("p",{staticClass:"post-subtitle"},[t._v("→ "+t._s(this.post.subtitle))]):t._e()])])]),i("markdown",{attrs:{content:t.content,more:this.post.excerpt,isBrief:!1}})],1),i("footer",{staticClass:"full-width",attrs:{id:"footer-wrapper"}},[i("div",{attrs:{id:"footer-top"}},[i("div",{staticClass:"alert apple-box clear-visited",staticStyle:{"font-size":"0.8rem","margin-top":"2rem","padding-top":"15px"},attrs:{id:"copyright"}},[i("p",[t._v(t._s(t.$t("post_page.author"))+"： "+t._s(t.post.author||t.$t("post_page.anonymous")))]),i("p",{staticClass:"url-link"},[t._v(t._s(t.$t("post_page.link"))+"："),i("a",{attrs:{href:"/"+t.post.path,target:"_blank"}},[t._v(t._s(this.$window.location.origin+"/"+t.post.path))])]),i("p",[t._v(t._s(t.$t("post_page.copyright"))+"："),i("span",{domProps:{innerHTML:t._s(t.$t("post_page.copyright_text"))}})])]),i("comments",{staticStyle:{"margin-top":"20px","max-width":"900px"},attrs:{id:"comments",post:t.post}})],1),i("el-divider"),i("my-footer",{attrs:{id:"footer"}})],1)],1),i("div",{class:{"hide-aside":!t.isShowAside},style:"min-width: "+t.aside_width,attrs:{id:"aside-wrapper"}},[i("span",{staticClass:"fold-icon-wrapper fix-aside-padding",class:{"fix-aside-padding-for-hide":!t.isShowAside},on:{click:function(e){return t.toggleAside()}}},[i("div",{staticClass:"el-icon-s-fold fold-icon"})]),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isShowAside,expression:"isShowAside"}],staticClass:"aside",attrs:{type:"flex",justify:"center"}},[i("div",{attrs:{id:"table-of-contents"}},[i("p",{staticClass:"title",on:{click:function(e){return e.preventDefault(),t.goAnchor("header-wrapper")}}},[t._v(t._s(t.$t("post_page.toc")))]),i("ul",{staticClass:"heading-list"},t._l(this.post.toc,(function(e){return i("li",{key:e.i},[i("a",{staticClass:"heading",style:"margin-left: "+1.2*(e.lvl-1)+"em",attrs:{href:"#"+t.encodeCJKBlank(e.slug)},on:{click:function(i){i.preventDefault(),t.goAnchor(t.encodeCJKBlank(e.slug))}}},[t._v(t._s(t.genHeading(e.lvl,e.content)))])])})),0)])])],1)],1):i("div")],1)};a._withStripped=!0;var s=i(131),n=i.n(s),o=i(97),r=i.n(o),l=(i(132),i(25),i(133)),c=i.n(l),p=i(0);p.default.component(c.a.name,c.a);i(134);var d=i(135),h=i.n(d);p.default.component(h.a.name,h.a);i(136);var u=i(137),m=i.n(u);p.default.component(m.a.name,m.a);i(64),i(67),i(138);var g=i(139),f=i.n(g);p.default.component(f.a.name,f.a);i(140);var _=i(141),v=i.n(_);p.default.component(v.a.name,v.a);i(142);var w=i(143),y=i.n(w);p.default.component(y.a.name,y.a);i(69);var b=i(66),C=(i(98),i(61),i(60));const A=i(144);var k={name:"post",props:{path1:{type:String,default:""},path2:{type:String,default:""},path3:{type:String,default:""},post_name:String},components:{markdown:()=>Promise.all([i.e(0),i.e(1)]).then(i.bind(null,160)),"my-footer":()=>Promise.all([i.e(0),i.e(2)]).then(i.bind(null,158)),comments:()=>Promise.all([i.e(0),i.e(6)]).then(i.bind(null,159))},data:()=>({orig_title:window.document.title,post:null,isRendered:!1,isShowAside:!0,aside_width:"250px"}),computed:{content:function(){return this.post.render_content},post_path:function(){return[this.path1,this.path2,this.path3].filter(t=>0!==t.length)}},methods:{encodeCJKBlank:function(t){let e=decodeURI(t).replace(/　/g,"-");return e=e.replace(/[\*]/g,""),encodeURIComponent(e)},toggleAside:function(t=null){this.isShowAside=t||!this.isShowAside,this.isShowAside?this.aside_width="250px":this.aside_width="0"},genHeading(t,e){let i=1.2*(t-1),a="";for(let t=0;t<e.length;t++){if(i+=A(e[t]),i>=C.a.post.max_heading_length)return a+" ...";a+=e[t]}return a},goAnchor(t){const e=document.getElementById(t);this.$scroll.animateScroll(e)},highlight_toc:function(){let t=[],e=[],i=e=>{const i=t.indexOf(e);i>-1&&t.splice(i,1),e.parentElement.classList.remove("active")};const a=new IntersectionObserver(a=>{a.forEach(a=>{const s=`#table-of-contents ul li a[href="#${a.target.getAttribute("id")}"]`,n=document.querySelector(s);null!==n&&(a.intersectionRatio>0?(e.length>0&&(e.forEach(i),e=[]),t.push(n),n.parentElement.classList.add("active")):1===t.length?e.push(n):i(n))})});document.querySelectorAll("h1, h2, h3, h4, h5, h6, h7").forEach(t=>{a.observe(t)})}},created(){this.$scroll=new n.a('a[href*="#"]',{speed:500,speedAsDuration:!0,updateURL:!1,emitEvents:!1});const t=[this.path1,this.path2,this.path3].filter(t=>t.length>0);b.a.getPostDetails(this.post_name,t,t=>{this.post=t.data,this.toggleAside("lg"===this.$mq&&0!==this.post.toc.length),window.document.title=this.post.title+" - 栗子Chan",this.post.date=new this.$moment(this.post.date).format("LL"),this.post.content=this.post.render_content;let e=C.a.post.aside_deepest_heading_level;this.post.config&&(e=this.post.config.max_toc_level||e),this.post.toc=this.post.toc.filter(t=>t.lvl<=e),this.isRendered=!0,this.$nextTick(()=>{if(Array.isArray(this.post.subtitle)){let t=new r.a("#typewriter-subtitle",{cursor:"_"});for(let e=1;e<this.post.subtitle.length;e++)t.typeString(this.post.subtitle[e]).pauseFor().deleteAll();t.typeString(this.post.subtitle[0]).start()}this.highlight_toc()})})},mounted(){},updated(){this.highlight_toc()},activated(){this.post&&(window.document.title=this.post.title+" - 栗子Chan")},deactivated(){window.document.title=this.orig_title}},S=(i(149),i(6)),x=Object(S.a)(k,a,[],!1,null,"0148dea0",null);x.options.__file="src/components/post.vue";e.default=x.exports},60:function(t,e,i){"use strict";var a=i(65);const s="https://avoscloud.com/1.1/classes",n="OeEtcHlTwNanGrrmpR3YA6Aa-gzGzoHsz",o="CuRwM3LRXOFfCT9iH1yUpV8h",r="LeanCloud-JS-SDK/3.15.0 (Browser)",l="!watermark_orig",c="!watermark_orig",p="/",d="https://kurikomoe-1300672427.image.myqcloud.com",h=p;e.a={other:{isDebug:!1,max_retry_times:3,retry_interval:500,timeout:1500,img_height_width_ratio:2},api:{site:a.a.urljoin(h,"api/site.json"),posts:a.a.urljoin(h,"api/posts.json"),posts_index:t=>a.a.urljoin(h,"api/posts/",`${t}.json`),post:(t,e)=>a.a.urljoin(h,"api/articles",e.join("/"),`${t}.json`),tags:a.a.urljoin(h,"api/tags.json")},post:{max_heading_length:32,omit_indicator:"...",aside_deepest_heading_level:3},gitalk:{clientID:"4c7a5aea202233a50462",clientSecret:"2a4cf51e76cca79a256f5746dcf81a49e802439b",repo:"fuwafuwa-blog",owner:"kurikomoe",admin:["kurikomoe"]},disqus:{shortname:"kurikomoe",public_key:"MnMSTZVAi6lGgbxnhC7pvRn9izcGJpQrKCHTtkxYIoyr3Uo9NU9DDxvcLSKhNl8c"},valine:{ApiHost:s,AppID:n,AppKey:o,UA:r},cos:{fileURL:p,imageURL:d,imageStyleSmall:l,imageStyleLarge:c,image_process:{webp_cmd:t=>`${t}?imageView2/format/webp`,png_cmd:t=>`${t}?imageView2/format/png`}}}},61:function(t,e,i){"use strict";var a=i(10),s=i(60);e.a={imgProcess:function(t,e=!1,i=!1){t.querySelectorAll("img").forEach(t=>{let e,n,o=t.src;o.includes("?none")?(o=t.src.replace("?none",""),e=o,n=o):i||"/"===s.a.cos.imageURL||!o.includes(s.a.cos.imageURL)?(e=o,n=o):(e=o+s.a.cos.imageStyleSmall,n=o+s.a.cos.imageStyleLarge),t.setAttribute("src",e);const r=document.createElement("picture");t.addEventListener("load",()=>{t.clientHeight>t.clientWidth*s.a.other.img_height_width_ratio&&(r.setAttribute("data-expand",a.a.t("other.img_load_more")),r.style["max-height"]=`${.618*t.clientWidth}px`,r.classList.add("limit-img-height"))},!0);const l=document.createElement("source");l.setAttribute("srcset",s.a.cos.image_process.webp_cmd(e)),l.setAttribute("type","image/webp");const c=document.createElement("source");c.setAttribute("srcset",s.a.cos.image_process.png_cmd(e)),c.setAttribute("type","image/png");const p=document.createElement("a");p.setAttribute("data-fancybox","gallery"),p.setAttribute("href",n),t.parentElement.insertBefore(p,t),p.appendChild(r),r.appendChild(l),r.appendChild(c),r.appendChild(t)})},doCheck:function(t,e,i,a=5,s=500,n=!1){let o=0;const r=setInterval(()=>{if(o+=1,o>=a);else{if(!e())return;i()}clearInterval(r)},s);return r}}},64:function(t,e,i){"use strict";i(90),i(25);var a=i(91),s=i.n(a);i(0).default.component(s.a.name,s.a)},65:function(t,e,i){"use strict";const a=i(93);e.a={urljoin:function(...t){const e=t.map(t=>encodeURI(t));return a(e)}}},66:function(t,e,i){"use strict";var a=i(7),s=i.n(a),n=i(60);const o=i(94),r=s.a.create({headers:{get:{"Cache-Control":"no-cache"}}});function l(t){return r.get(n.a.api.posts_index(t)).then(t=>t.data)}function c(t){return new Promise(e=>setTimeout(e,t))}async function p(t,e=(t=>-1!==t),i=-1,a=n.a.other.max_retry_times,s=n.a.other.retry_interval){for(let i=0;i<a;i+=1){const i=await t();if(e(i))return i;await c(s)}return i}function d(t,e){const i=`${n.a.valine.ApiHost}/Comment`;let a=`?where={"$or":[{"rid":{"$exists":false}},{"rid":""}],"url":"${t}"}&order=-createdAt,-insertedAt&limit=0&count=1`;a=`${i}${encodeURI(a)}`;const r=function(t){const e=(new Date).getTime();return{sign:o(e+t),timestamp:e}}(n.a.valine.AppKey),l={"X-LC-Id":n.a.valine.AppID,"X-LC-Sign":`${r.sign},${r.timestamp}`,"X-LC-UA":n.a.valine.UA};return p(()=>s.a.get(a,{timeout:n.a.other.timeout,headers:l,cancelToken:e.token}).then(t=>t.data.count).catch(t=>-1),t=>-1!==t,-1,1)}e.a={getPostDetails:function(t,e,i){return r.get(function(t,e){return n.a.api.post(t,e)}(t,e)).then(i).catch(console.error)},getPostsInfo:l,getAllPosts:async function(){const t=await l(1),e=t.pageCount,i=[];let a=[t];for(let t=2;t<=e;t+=1)a.push(l(t));a=await Promise.all(a);for(let t=0;t<a.length;t+=1)for(let e=0;e<a[t].data.length;e+=1)i.push(a[t].data[e]);return{total:i.length,pageSize:i.length,pageCount:1,data:i}},getTagsInfo:function(){return r.get(n.a.api.tags).then(t=>t.data)},getCommentCount:async function(t,e){return d(t,e)},checkDisqusAccess:async function(){for(let t=0;t<1;t+=1){if(await s.a.head("https://disqus.com/next/config.json",{timeout:n.a.other.timeout}).then(()=>!0).catch(t=>!1))return!0;await c(n.a.other.retry_interval)}return!1},sleep:c}},67:function(t,e,i){"use strict";i(78),i(25);var a=i(79),s=i.n(a);i(0).default.component(s.a.name,s.a)},69:function(t,e,i){"use strict";i(81),i(25);var a=i(82),s=i.n(a);i(0).default.component(s.a.name,s.a)},73:function(t,e,i){}}]);